{{ $enable_ctas := true }}
<section>
    <div class="c-product-tailwindui-with-large-icons bg-({{ .background_color }}) dark:bg-({{ .background_color_dark }}) bos-section">
        <div class="mx-auto max-w-7xl px-12 lg:px-8">
            <div class="mx-auto max-w-4xl lg:mx-0">
                <h2 class="text-pretty text-4xl font-semibold tracking-tight text-({{ .heading.text_color }}) dark:text-({{ .heading.text_color_dark }}) sm:text-5xl">
                    {{ .heading.heading_text | safeHTML }}
                </h2>
                <p class="mt-6 text-lg/8 text-({{ .subheading.text_color }}) dark:text-({{ .subheading.text_color_dark }})">
                    {{ .subheading.subheading_text | safeHTML }}
                </p>
            </div>
            {{ if .enable_ctas }}
                {{ $enable_ctas = true }}
            {{ else }}
                {{ $enable_ctas = false }}
            {{ end }}
            {{ $product_details_bg := .products.background_color }}
            {{ $product_details_bg_dark := .products.background_color }}
            {{ $product_details_text_color := .products.text_color }}
            {{ $product_details_text_color_dark := .products.text_color_dark }}

            <div class="mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-18 lg:max-w-none">
                <dl class="grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-3">
                    {{ range .products.product_details  }}
                        <div class="px-6 py-6 flex flex-col rounded-xl bg-({{ $product_details_bg }}) dark:bg-({{ $product_details_bg_dark }})">
                            <dt class="text-base/7 font-semibold text-({{ $product_details_text_color }}) dark:text-({{ $product_details_text_color_dark }})">
                            <div class="mb-6 flex size-10 items-center justify-center rounded-lg bg-({{ $product_details_text_color }}) dark:bg-({{ $product_details_text_color_dark }})">
                                <i class="{{ .icon }}"></i>
                            </div>
                            {{ .title }}
                            </dt>
                            <dd class="mt-1 flex flex-auto flex-col text-base/7 text-({{ $product_details_text_color }}) dark:text-({{ $product_details_text_color_dark }})">
                            <p class="flex-auto">{{ .description }}</p>
                            {{ if eq $enable_ctas true }}
                                <p class="mt-6">
                                <a href="{{ .cta_link }}" class="text-sm/6 font-semibold text-({{ $product_details_text_color }}) dark:text-({{ $product_details_text_color_dark }}) hover:text-(--bos-color-on-container-variant)">{{ .cta_text }} 
                                    <span aria-hidden="true">â†’</span>
                                </a>
                                </p>
                            {{ end }}
                            </dd>
                        </div>
                    {{ end }}
                </dl>
            </div>
        </div>
    </div>
</section>